{"version":3,"sources":["webpack:///../components/form/index.mdx"],"names":["_frontmatter","makeShortcode","name","props","console","warn","Form","Field","FieldError","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","__position","__code","__scope","Playground","Props","form","App","isMDXComponent"],"mappings":"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","file":"component---components-form-index-mdx-07678d5fa1b191bb81df.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/Users/zenlayer/Documents/HZ_FE/zen-ui-new/zen-ui/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nimport { Playground, Props } from 'docz';\nimport { form } from '@zenlayer/zen-ui';\nimport App from './demo/App.tsx';\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst Form = makeShortcode(\"Form\");\nconst Field = makeShortcode(\"Field\");\nconst FieldError = makeShortcode(\"FieldError\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n\n    <h1 {...{\n      \"id\": \"form-çŠ¶æ€ç®¡ç†\"\n    }}>{`form çŠ¶æ€ç®¡ç†`}</h1>\n    <h2 {...{\n      \"id\": \"ä½•æ—¶ä½¿ç”¨\"\n    }}>{`ä½•æ—¶ä½¿ç”¨`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`å½“ä½ éœ€è¦å­˜å‚¨è¡¨å•æ•°æ®ï¼Œå¤„ç†æ ¡éªŒé€»è¾‘æ—¶`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"åŸºæœ¬ç”¨æ³•\"\n    }}>{`åŸºæœ¬ç”¨æ³•`}</h2>\n    <Playground __position={0} __code={'<App />'} __scope={{\n      props,\n      DefaultLayout,\n      Playground,\n      Props,\n      form,\n      App,\n      DefaultLayout,\n      _frontmatter\n    }} mdxType=\"Playground\">\n  <App mdxType=\"App\" />\n    </Playground>\n    <h2 {...{\n      \"id\": \"usage\"\n    }}>{`Usage`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`import * as React from 'react';\nimport { useEffect } from 'react';\nimport { Form, Field, useForm, FieldError } from './Form';\nconst required = (val: any) => {\n  if (!val || val === '') {\n    throw 'required';\n  }\n};\nconst validations = {\n  name: [required],\n  gender: [required],\n};\nconst App = () => {\n  const form = useForm({ validations });\n  useEffect(() => {\n    form.initData({\n      name: '',\n      gender: '',\n    });\n  }, []);\n  return (\n    <Form {...form}>\n      <div>\n        <div>\n          name\n          <Field field=\"name\">\n            <input\n              onBlur={() => {\n                form.validateField('name2');\n              }}\n            />\n          </Field>\n          <FieldError field=\"name\">\n            {(error) => <div style={{ color: 'blue' }}>{error}</div>}\n          </FieldError>\n        </div>\n        <div>\n          gender\n          <Field field=\"gender\">\n            <input />\n          </Field>\n          <FieldError field=\"gender\" />\n        </div>\n      </div>\n      <button\n        onClick={() => {\n          const [ok, data] = form.canSubmit();\n          if (ok) {\n            alert(\\`éªŒè¯é€šè¿‡: \\${JSON.stringify(data, null, 2)}\\`);\n          }\n        }}\n      >\n        submit\n      </button>\n    </Form>\n  );\n};\nexport default App;\n`}</code></pre>\n    <p>{`âš ï¸ æ³¨æ„: å¯¹è±¡å†…ç½®å­—æ®µå’Œæ•°ç»„çš„éªŒè¯æ–¹æ³•è¯·å‚ç…§`}<inlineCode parentName=\"p\">{`demo/App.tsx`}</inlineCode>{`æ–‡ä»¶`}</p>\n    <h2 {...{\n      \"id\": \"api-reference\"\n    }}>{`API Reference`}</h2>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`//validatorå¯ä»¥ä¸ºå¼‚æ­¥å‡½æ•°\ntype Validator = (\n  val: any /*å½“å‰å­—æ®µå€¼*/,\n  data: any /*å½“å‰è¡¨å•å€¼, ç”¨äºè·¨å­—æ®µéªŒè¯*/\n) => never | void | Promise<void>;\ntype ValidatorObj = { [key: string]: Validator[] | ValidatorObj };\nconst form = useForm({ validations });\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"useform-validation-validatorobj--formutils\"\n    }}>{`useForm: (validation: ValidatorObj) => FormUtils`}</h2>\n    <h4 {...{\n      \"id\": \"formutils\"\n    }}>{`FormUtils`}</h4>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`setFieldData: (field: string, value: any, needValidate?: boolean) => void`}</inlineCode>{`: è®¾ç½®å­—æ®µçš„å€¼`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`setFieldError: (field: string, value: string | undefined) => void`}</inlineCode>{`: è®¾ç½®å­—æ®µçš„é”™è¯¯ä¿¡æ¯`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`setFieldTouch: (field: string, value: boolean) => void`}</inlineCode>{`: è®¾ç½®å­—æ®µæ˜¯å¦è¢« touch è¿‡`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`initData: (initValue: any) => void`}</inlineCode>{`: è®¾ç½®è¡¨å•çš„åˆå§‹å€¼, åªæœ‰åˆå§‹åŒ–è¿‡çš„ field æ‰èƒ½è§¦å‘éªŒè¯`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`canSubmit: () => [boolean, any]`}</inlineCode>{`: è¡¨å•æ•°æ®æ˜¯å¦é€šè¿‡éªŒè¯, å¦‚æœè¿”å›ç¬¬ä¸€ä¸ªå€¼ä¸º true, ç¬¬äºŒä¸ªå€¼å°±æ˜¯è¡¨å•æ•°æ®; å¦‚æœç¬¬ä¸€ä¸ªå€¼ä¸º false, ç¬¬äºŒä¸ªå€¼å°±æ˜¯é”™è¯¯å¯¹è±¡; è§¦å‘è¯¥å‡½æ•°æ—¶, æ‰€æœ‰å­—æ®µéƒ½ä¼šè¢« touch`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`getField: (field: string, default?: any) => any`}</inlineCode>{`: è·å–è¡¨å•æ•°æ®ä¸­çš„æŸä¸ª feild çš„å€¼`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`getError: (field: string) => string | undefined`}</inlineCode>{`: è·å–è¡¨å•æŸä¸ª field çš„é”™è¯¯ä¿¡æ¯`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`getTouch: (field: string) => boolean`}</inlineCode>{`: è·å–å­—æ®µæ˜¯å¦è¢« touch è¿‡`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`arrayAppend: (field: string, data: any) => void`}</inlineCode>{`: field æ˜¯æ•°ç»„æ—¶ç”¨æ¥ append æ•°ç»„`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`arrayRemove: (field: string) => void`}</inlineCode>{`: field æ˜¯æ•°ç»„æ—¶ç”¨æ¥ç§»é™¤æ•°ç»„çš„æŸä¸€é¡¹`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"-children-form-formutils---children-jsxelement--jsxelement-\"\n    }}>{`\\\\`}<Form mdxType=\"Form\" />{`: ({children, ...form}: FormUtils & { children: JSX.Element | JSX.Element[] })`}</h2>\n    <p>{`è¯¥ç»„ä»¶æ˜¯ä¸€ä¸ª `}<inlineCode parentName=\"p\">{`Context Provider`}</inlineCode>{`, ä¸ºå…¶ä¸‹é¢çš„ `}<inlineCode parentName=\"p\">{`Field`}</inlineCode>{` å’Œ `}<inlineCode parentName=\"p\">{`FieldError`}</inlineCode>{` æä¾› `}<inlineCode parentName=\"p\">{`FormUtilså¯¹è±¡`}</inlineCode></p>\n    <h2 {...{\n      \"id\": \"-children-field--children-jsxelement-field-string---jsxelement\"\n    }}>{`\\\\`}<Field mdxType=\"Field\" />{`: ({children, field}: { children: JSX.Element; field: string; }) => JSX.Element`}</h2>\n    <p>{`è¯¥ç»„ä»¶ç”¨äºå…³è”æŸä¸ª field å’Œå®ƒå®é™…ç»‘å®šçš„ UI å…ƒç´ , `}<inlineCode parentName=\"p\">{`Field`}</inlineCode>{`ä¼šå‘å…¶`}<inlineCode parentName=\"p\">{`chilren`}</inlineCode>{`æ³¨å…¥ `}<inlineCode parentName=\"p\">{`value`}</inlineCode>{`, å’Œ `}<inlineCode parentName=\"p\">{`onChange`}</inlineCode></p>\n    <p>{`âš ï¸ æ³¨æ„: å¦‚æœç”¨æˆ·è‡ªå·±ä¼ äº†`}<inlineCode parentName=\"p\">{`onChange`}</inlineCode>{`, åˆ™ä¼šè°ƒç”¨ç”¨æˆ·è‡ªå·±çš„ `}<inlineCode parentName=\"p\">{`onChange`}</inlineCode>{`, è¯¥ç»„ä»¶åªèƒ½åœ¨`}<inlineCode parentName=\"p\">{`<Form/>`}</inlineCode>{`ä¸‹ç”Ÿæ•ˆ`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`<Form {...form}>\n  <Field field=\"name\">\n    <SomeUIElement />\n  </Field>\n</Form>\n`}</code></pre>\n    <p>{`ğŸ‘‡ å®é™…`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`<Form {...form}>\n  <SomeUIElement\n    value={getField('name')}\n    onChange={(val) => {\n      setFieldData(field, val); //è¿™é‡Œä¼šè®¾ç½®fieldçš„valueå’Œè§¦å‘éªŒè¯\n      setFieldTouch(field, true);\n    }}\n  />\n</Form>\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"-field-children-field-string-childrenerror-string--jsxelement--jsxelement\"\n    }}>{`\\\\`}<FieldError mdxType=\"FieldError\" />{`: ({field, children}: {field: string, children?:(error: string) => JSX.Element}) => JSX.Element`}</h2>\n    <p>{`è¯¥ç»„ä»¶ç”¨äºæ˜¾ç¤ºæŸä¸ª field çš„é”™è¯¯ä¿¡æ¯(åªæœ‰ field è¢« touch è¿‡åæ‰æ˜¾ç¤º)`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`<Form {...form}>\n  <FieldError field=\"name\" />\n</Form>\n`}</code></pre>\n    <p>{`ğŸ‘‡ å®é™…`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`<Form {...form}>\n  {getTouch('name') && getError('name') ? (\n    children ? (\n      children(getError('name'))\n    ) : (\n      <div style={{ verticalAlign: 'top', color: 'red' }}>\n        {getError('name')}\n      </div>\n    )\n  ) : null}\n</Form>\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}